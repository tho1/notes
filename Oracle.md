Oracle is an enterprise database.

### installation of Oracle client

### Oracle support
https://www.oracle.com/us/assets/lifetime-support-technology-069183.pdf

### Oracle Client for Windows 
It comes with 32 bit and 64 bit versions.  64 bit versions can only be installed in 64 bit Windows. 

Registry setup. 

Oracle writes to Windows registry for 32 bit or 64 bit installation.
Here are some common registry values added to registry.  See 

* [Registry setup](https://docs.oracle.com/en/database/oracle/oracle-database/19/ntqrf/about-hkey-local-machine.html#GUID-33BEB17A-6151-4192-B24B-3EABAE5A2482)
* The registry for Windowss 32 bit and 64 bit are saved in different locations. 
* Computer\HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\ORACLE for 32 bit. 
* Computer\HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE for 64 bit version.

### ODBC clients setup
* Oracle also provide a driver for Windows application. see https://docs.oracle.com/database/121/ADFNS/adfns_odbc.htm#ADFNS1118

### check the oracle database is up
```
tnsping serivcename
lsnrctl status
```

* And check the port number is correct 
* look for the following file in product\oracle_version\client\network\admin\sqlnet.ora
* sqlnet.ora defines the search order of the service name


### sample setup for sqlnet.ora
# SQLNET.ORA Network Configuration File: C:\oracle\ora92\NETWORK\ADMIN\sqlnet.ora
# Generated by Oracle configuration tools.

```
NAMES.DIRECTORY_PATH= (LDAP,TNSNAMES)
```

### sample setup for ldap.ora
* definition of LDAP configuration
```
DEFAULT_ADMIN_CONTEXT = "dc=xyz,dc=abc"

DIRECTORY_SERVERS= (ldapserver:portNumber)

DIRECTORY_SERVER_TYPE = OID
```
### sample setup for tnsnames.ora
```
TNSNAME = 
(DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = "Fully qualified domain name" )(PORT = portNumber))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = serviceName)
    )
  )

```

### sqlplus
* sqlplus username@instance
* To turn on logging in sqlplus
* spool spoolfile.log
* SQL> set echo on
* SQL> set serveroutput on form word_wrapped;
* http://www.dba-oracle.com/art_freeman_portable_ch1.pdf
* https://gist.github.com/vegaasen/69c1f55c75f2e02559e8


### modifying table.
```
alter table table_name set unused (column_name);
alter table table_name move online;
```
* https://oracle-base.com/articles/8i/dropping-columns


```
alter table mytable enable row movement;
alter table mytable shrink space;

```
* http://www.dba-oracle.com/t_alter_table_move_shrink_space.htm


### get all the table names and columns of a system.
```
select col.column_id, 
       col.owner as schema_name,
       col.table_name, 
       col.column_name, 
       col.data_type, 
       col.data_length, 
       col.data_precision, 
       col.data_scale, 
       col.nullable
from sys.all_tab_columns col
inner join sys.all_tables t on col.owner = t.owner 
                              and col.table_name = t.table_name
-- excluding some Oracle maintained schemas
where col.owner not in ('ANONYMOUS','CTXSYS','DBSNMP','EXFSYS', 'LBACSYS', 
   'MDSYS', 'MGMT_VIEW','OLAPSYS','OWBSYS','ORDPLUGINS', 'ORDSYS','OUTLN', 
   'SI_INFORMTN_SCHEMA','SYS','SYSMAN','SYSTEM','TSMSYS','WK_TEST','WKSYS', 
   'WKPROXY','WMSYS','XDB','APEX_040000', 'APEX_PUBLIC_USER','DIP', 
   'FLOWS_30000','FLOWS_FILES','MDDATA', 'ORACLE_OCM', 'XS$NULL',
   'SPATIAL_CSW_ADMIN_USR', 'SPATIAL_WFS_ADMIN_USR', 'PUBLIC')  
order by col.owner, col.table_name, col.column_id;
```

With privilege on dba_tab_columns and dba_tables

```
select col.column_id, 
       col.owner as schema_name,
       col.table_name, 
       col.column_name, 
       col.data_type, 
       col.data_length, 
       col.data_precision, 
       col.data_scale, 
       col.nullable
from sys.dba_tab_columns col
inner join sys.dba_tables t on col.owner = t.owner 
                              and col.table_name = t.table_name
-- excluding some Oracle maintained schemas
where col.owner not in ('ANONYMOUS','CTXSYS','DBSNMP','EXFSYS', 'LBACSYS', 
   'MDSYS', 'MGMT_VIEW','OLAPSYS','OWBSYS','ORDPLUGINS', 'ORDSYS','OUTLN', 
   'SI_INFORMTN_SCHEMA','SYS','SYSMAN','SYSTEM','TSMSYS','WK_TEST','WKSYS', 
   'WKPROXY','WMSYS','XDB','APEX_040000', 'APEX_PUBLIC_USER','DIP', 
   'FLOWS_30000','FLOWS_FILES','MDDATA', 'ORACLE_OCM', 'XS$NULL',
   'SPATIAL_CSW_ADMIN_USR', 'SPATIAL_WFS_ADMIN_USR', 'PUBLIC')  
order by col.owner, col.table_name, col.column_id;
```

* Reference https://dataedo.com/kb/query/oracle/list-table-columns-in-database


```

select * from all_objects where object_type in ('FUNCTION', 'PROCEDURE', 'PACKAGE', 'VIEW')
select * from user_tab_columns
select * from user_tab_columns where table_name like '%yourtable% order by column_name


```

### split a large table to smaller one.
```
CREATE TABLE xy_001 AS

SELECT  *

FROM    (

    SELECT  y.*

          ,CEIL(ROW_NUMBER() OVER (ORDER BY your_date_column) /100000) x

    FROM    y

        )

WHERE  x = 1;
```

### select certain number of rows in Oracle
```
select * from (
  select a.*, ROWNUM rnum from (
    <select statement with order by clause>
  ) a where rownum <= MAX_ROW
) where rnum >= MIN_ROW
```

### installation 
* https://community.oracle.com/tech/developers/discussion/4308480/18c-express-edition-win-10-pro-no-default-database-ora-12560-ora-12514-what-am-i-missing
* https://docs.oracle.com/en/database/oracle/oracle-database/21/xeinw/ offcial guide
* https://matthiashoys.wordpress.com/2019/05/22/installation-of-oracle-database-express-edition-oracle-xe-18c-on-linux/ 18c XE on CentOS 7.6

### running old version of Oracle on AWS
* https://aws.amazon.com/blogs/database/options-to-run-deprecated-major-versions-of-oracle-databases-on-aws/
* https://www.sqlshack.com/installing-oracle-19c-on-windows-server-2019/  19c
* https://www.youtube.com/watch?v=v33u3fx7ZeE 19c on Win server 2019
* https://www.youtube.com/watch?v=DYleroLay5E 21c XE on windows 

### XE specific
* https://dba.stackexchange.com/questions/256722/how-to-connect-using-pdb-userid-on-oracle-18c-xe
* https://stackoverflow.com/questions/62045736/oracle-xe-18c-express-edition-ora-12541-tns-no-listener
* 
### Oracle tips
* https://www.youtube.com/@oracle-base/playlists Tim Hall. Lots of info


### Oracle APEX
* https://docs.oracle.com/en/database/oracle/application-express/21.2/htmig/upgrading-apex-within-oracle-db-xe.html#GUID-38805604-3203-4365-B9E0-9347DE5D3D7A
* https://oracleagent.wordpress.com/2021/11/28/installation-of-apex-21-2-in-linux/
* https://www.youtube.com/watch?v=GUpvXMHqe2U 19c 
* https://www.youtube.com/watch?v=2uBQF7wk3zg APEX 5.0 UI
* https://oracle.github.io/learning-library/developer-library/apex/intro-to-javascript/?lab=1-sign-up-apex Apex 
* https://matthiashoys.wordpress.com/2019/12/12/installation-of-apex-19-2-on-oracle-18c-xe-express-edition/ Oracle 19c installation
* https://forums.oracle.com/ords/apexds/post/apex-installation-on-oracle-10g-database-8829 old version
* https://docs.oracle.com/cd/E17556_01/index.htm APEX 4.0 doc
* https://www.experts-exchange.com/articles/17646/Upgrading-Oracle-APEX-3-2-1-00-10-to-4-2-6-00-03-version.html install old version 4.2
* https://www.oracleknowhow.com/download-oracle-apex/
* [ORA 24247 error ACL](https://logic.edchen.org/how-to-resolve-ora-24247-network-access-denied-by-access-control-list-acl/#resolve-or-connect-privilege)
* [Apex developer](http://jastraub.blogspot.com/)
* https://blogs.oracle.com/apex/post/synchronize-parent-child-rest-sources



### APEX debugging
```
f?p=App:Page:Session:Request:Debug:ClearCache:itemNames:itemValues:PrinterFriendly
apex_application.g_print_success_message := 'message';

wwv_flow.debug ('message');
apex_debug.message('message');
```

### Oracle APEX ldap integration
* https://forums.oracle.com/ords/apexds/post/getting-apex-ords-21-1-connect-to-ldap-active-directory-1901  shared component --> auth schemes
* https://oracle-base.com/articles/misc/oracle-application-express-apex-ldap-authentication  use DBMS_LDAP modules

### Oracle Rest
* https://docs.oracle.com/en/database/oracle/application-express/19.1/htmig/enabling-network-services-in-Oracle-db11g-or-later.html#GUID-DEA26C53-0220-40F1-86FB-482163CA5681
* 
```
  DBMS_NETWORK_ACL_ADMIN package 
  
  BEGIN
    DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE(
        host => '*',
        ace => xs$ace_type(privilege_list => xs$name_list('connect'),
                           principal_name => 'APEX_190100',
                           principal_type => xs_acl.ptype_db));
END;


SELECT ACL, PRINCIPAL
  FROM DBA_NETWORK_ACLS NACL, XDS_ACE ACE
 WHERE HOST = '*' AND LOWER_PORT IS NULL AND UPPER_PORT IS NULL AND
       NACL.ACLID = ACE.ACLID AND
       NOT EXISTS (SELECT NULL FROM ALL_USERS WHERE USERNAME = PRINCIPAL);

```




### Oracle APEX with JS libraries
* https://github.com/OraOpenSource/apex-nitro Javascript integration with Apex. Nice idea!
* [AngularJS in apex](http://nyoug.org/wp-content/uploads/2014/12/McGhan_AngularJS.pdf)
* [Using AngularJS in Apex](https://ba6.us/content/dox/KScope14/dmcghan.angularapex.presentation.pdf)
* [React in Apex](https://www.youtube.com/watch?v=zC4a5kVGTB8)
* https://tunahuntress.files.wordpress.com/2008/09/apex_cheatsheet_k08.pdf



### Oracle VM
* https://www.oracle.com/technetwork/database/enterprise-edition/databaseappdev-vm-161299.html
* https://www.oracle.com/database/technologies/databaseappdev-vm.html#license-lightbox


#### Is Apex installed?
```
SELECT STATUS FROM DBA_REGISTRY WHERE COMP_ID = 'APEX'
```

### ORDS Rest service ORDS
Add the following in defaults.xml for debugging purpose.
```
<entry key="debug.printDebugToScreen">true</entry>
```

* https://www.youtube.com/watch?v=ffcD9NDAcIs 21c ORDS tomcat  installation 
* https://content.dsp.co.uk/apex/ordsinary  why ORDS
* https://apexapps.oracle.com/pls/apex/f?p=44785:2:116219426549991:::2,CIR,RIR:P2_PRODUCT_ID:3632#:~:text=Oracle%20REST%20Data%20Services%20(ORDS,scalable%2C%20manageable%2C%20and%20secure.  Getting started with ORDS
* https://blogs.oracle.com/database/post/apex-ords-futc
* https://myofmwexperiments.blogspot.com/2020/06/uninstalling-ords-from-database.html
* https://forums.oracle.com/ords/apexds/post/ords-install-latest-version-and-22-2-failed-and-unable-to-l-1991
* https://forums.oracle.com/ords/apexds/post/error-in-starting-standalone-mode-ords-0281
* https://asktom.oracle.com/pls/apex/asktom.search?tag=after-installationupgradation-ords-222-unable-to-run-apex
* https://forums.oracle.com/ords/apexds/post/after-installing-ords-22-1-can-t-access-apex-7592
* https://forums.oracle.com/ords/apexds/post/facing-issue-with-ords-http-https-2652
* https://docs.oracle.com/en/database/oracle/oracle-rest-data-services/19.4/aelig/troubleshooting-REST.html#GUID-459D10EB-4E62-4D28-92EB-BE1886615E00

* https://oracle-base.com/articles/misc/oracle-rest-data-services-ords-standalone-mode 3.0 to 21.4
* https://oracle-base.com/articles/misc/oracle-rest-data-services-ords-standalone-mode-22-onward v22 onward
* https://github.com/oracle/apex

### Expressjs integration
* https://matthiashoys.wordpress.com/2020/01/21/using-apex-as-front-end-for-mysql-databases-rest-enabled-with-node-js/

### node integration
* https://www.techiediaries.com/node-oracle-database-crud/
* https://github.com/oracle/node-oracledb/blob/main/INSTALL.md#which-instructions-to-follow
* https://docs.oracle.com/en/cloud/paas/autonomous-database/adbsa/connecting-nodejs.html#GUID-AB1E323A-65B9-47C4-840B-EC3453F3AD53

### in memory db.
```
select * from v$inmemory_area
alter system set inmemory_size = 100M scope=SPFILE;
alter system set inmemory_expressions_usage = 'ENABLE';
```
* related topics: EXADATA, IMCS, RAC architecture, 


### data model related
* https://www.oracle.com/webfolder/technetwork/tutorials/obe/db/devdays2012/mod1_dm/mod1_dm.html
* https://holowczak.com/reverse-engineer-a-data-model-oracle-sql-developer/6/ 


### PL/SQL developer plugsin
* https://github.com/utPLSQL
* https://github.com/ReznichenkoSV/PL-SQL-Developer-monokai
* https://github.com/aniskop/plsql-developer-plugin-net
* https://github.com/tnodir/luaplsql
